<form
	[formGroup]="todoForm"
	(ngSubmit)="addTodo()"
	class="prose flex flex-col gap-3 items-center"
>
	<div class="flex flex-col gap-2">
		<h1 class="text-center my-0">Todo maker:</h1>
		<p class="my-0 max-w-[42ch]">
			Create todos in a few clicks and save them in the cloud (only if
			you're logged in your account). Manage todos and enjoy the power of
			web!
		</p>
	</div>
	<ui-input
		placeholder="Todo title"
		inputFormControlName="title"
		id="todoTitle"
		title="Title"
	></ui-input>

	<ui-button type="submit" [disabledCondition]="!todoForm.valid">
		<ng-template #content>Add todo!</ng-template>
	</ui-button>

	<div class="flex flex-col mt-5 gap-2">
		<h1 class="text-center my-0">Todos list:</h1>
		<p class="my-0 max-w-[42ch]">
			Lists your current Todos (if possible, synced with the cloud) and
			allows to manage them.
		</p>
	</div>
	<form>
		<ul class="flex flex-col">
			<ng-container *ngIf="todos$ | async as todosSync">
				<ng-container *ngIf="todosSync.length !== 0">
					<h2 class="text-center my-0">Your todos:</h2>
					<li class="my-4" *ngFor="let todo of todosSync">
						<app-todo-card
							[todo]="todo"
							(triggerRemoveTodo)="removeTodo($event)"
							(triggerTodoCompleteStatus)="
								toggleTodoComplete(
									$event.todo,
									$event.completed
								)
							"
						></app-todo-card>
					</li>
				</ng-container>
			</ng-container>
		</ul>
	</form>
</form>
